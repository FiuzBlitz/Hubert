<!DOCTYPE html>
<html lang="pl" data-theme="light">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Plusy i Minusy</title>
  <style>
    :root {
      --bg: #f4f4f4;
      --card: #ffffff;
      --text: #111;
      --plus: #1faa00;
      --minus: #d32f2f;
    }
    [data-theme="dark"] {
      --bg: #121212;
      --card: #1e1e1e;
      --text: #eaeaea;
      --plus: #66ff66;
      --minus: #ff6666;
    }

    body {
      font-family: Arial, sans-serif;
      margin: 0;
      padding: 0;
      background: var(--bg);
      color: var(--text);
      transition: background 0.4s, color 0.4s;
    }

    h1 {
      text-align: center;
      margin-top: 20px;
      font-size: 28px;
      animation: fadeIn 0.6s ease;
    }

    @keyframes fadeIn {
      from { opacity: 0; transform: translateY(-10px); }
      to { opacity: 1; transform: translateY(0); }
    }

    .container {
      display: flex;
      flex-direction: column;
      gap: 20px;
      padding: 20px;
    }

    .section {
      background: var(--card);
      padding: 15px;
      border-radius: 12px;
      box-shadow: 0 4px 10px rgba(0,0,0,0.1);
      animation: fadeIn 0.5s ease;
    }

    .title {
      font-size: 20px;
      margin-bottom: 10px;
      font-weight: bold;
    }

    .plus { color: var(--plus); }
    .minus { color: var(--minus); }

    input, select {
      width: 100%;
      padding: 10px;
      margin: 6px 0;
      border-radius: 8px;
      border: 1px solid #aaa;
      background: var(--card);
      color: var(--text);
    }

    button {
      width: 100%;
      padding: 12px;
      border: none;
      border-radius: 8px;
      background: #333;
      color: #fff;
      font-size: 16px;
      margin-top: 10px;
      transition: 0.3s;
    }

    button:hover {
      background: #555;
    }

    .toggle {
      position: absolute;
      top: 10px;
      left: 10px;
      background: #333;
      padding: 10px 14px;
      border-radius: 20px;
      color: white;
      cursor: pointer;
      font-size: 14px;
      transition: 0.3s;
    }

    .toggle:hover { background: #555; }

    ul { list-style: none; padding: 0; }
    li { margin: 6px 0; }

    .result {
      margin-top: 20px;
      text-align: center;
      font-size: 20px;
      font-weight: bold;
      animation: fadeIn 0.6s ease;
    }
  </style>
</head>
<body>
  <div class="toggle" onclick="toggleTheme()"><span id="themeIcon">üåô</span></div>

  <div class="header">
    <h1 id="mainTitleDisplay">Plusy i Minusy</h1>
    <input id="mainTitle" type="text" placeholder="Wpisz tytu≈Ç por√≥wnania..." oninput="updateTitle()" />
    <div class="toggle" onclick="toggleTheme()">Tryb: Light/Dark</div>
</div>
  <div class="container">

    <div class="section">
      <div class="title plus">+ Plusy</div>
      <input id="plusText" type="text" placeholder="Wpisz plus..." />
      <select id="plusWeight">
        <option value="1">Waga 1</option>
        <option value="2">Waga 2</option>
        <option value="3">Waga 3</option>
        <option value="4">Waga 4</option>
        <option value="5">Waga 5</option>
      </select>
      <button onclick="addPlus()">Dodaj plus</button>
      <ul id="plusList"></ul>
    </div>

    <div class="section">
      <div class="title minus">- Minusy</div>
      <input id="minusText" type="text" placeholder="Wpisz minus..." />
      <select id="minusWeight">
        <option value="1">Waga 1</option>
        <option value="2">Waga 2</option>
        <option value="3">Waga 3</option>
        <option value="4">Waga 4</option>
        <option value="5">Waga 5</option>
      </select>
      <button onclick="addMinus()">Dodaj minus</button>
      <ul id="minusList"></ul>
    </div>

    <button onclick="calculate()">Oblicz wynik</button>
    <div id="result" class="result"></div>
  </div>

  <script>
    const plusData = [];
    const minusData = [];

    function addPlus() {
      const text = document.getElementById('plusText').value;
      const weight = Number(document.getElementById('plusWeight').value);
      if (!text) return;
      plusData.push(weight);
      document.getElementById('plusList').innerHTML += `<li class='plus'>+ ${text} (waga: ${weight})</li>`;
      document.getElementById('plusText').value = '';
    }

    function addMinus() {
      const text = document.getElementById('minusText').value;
      const weight = Number(document.getElementById('minusWeight').value);
      if (!text) return;
      minusData.push(weight);
      document.getElementById('minusList').innerHTML += `<li class='minus'>- ${text} (waga: ${weight})</li>`;
      document.getElementById('minusText').value = '';
    }

    function calculate() {
      const plusAvg = plusData.length ? plusData.reduce((a,b)=>a+b,0) / plusData.length : 0;
      const minusAvg = minusData.length ? minusData.reduce((a,b)=>a+b,0) / minusData.length : 0;

      let verdict = '';
      if (plusAvg > minusAvg) verdict = 'Plusy przewa≈ºajƒÖ! ‚úîÔ∏è';
      else if (minusAvg > plusAvg) verdict = 'Minusy przewa≈ºajƒÖ! ‚ùå';
      else verdict = 'Remis.';

      document.getElementById('result').innerHTML = `≈örednia plus√≥w: ${plusAvg.toFixed(2)}<br>≈örednia minus√≥w: ${minusAvg.toFixed(2)}<br><br>${verdict}`;
    }

    function updateTitle() {
      const title = document.getElementById('mainTitle').value;
      document.getElementById('mainTitleDisplay').textContent = title || 'Plusy i Minusy';
    }

    function toggleTheme() {
      const html = document.documentElement;
      const icon = document.getElementById('themeIcon');
      const newTheme = html.dataset.theme === "light" ? "dark" : "light";
      html.dataset.theme = newTheme;
      icon.textContent = newTheme === "light" ? "üåô" : "‚òÄÔ∏è";
    }
  </script>
</body>
</html>
